import { ClinicianCardProps } from "@/types";
import Image from "next/image";

export const ClinicianCard = ({
  descriptions,
  qualifications,
  image,
  location,
  name,
  onMessage,
  onVisitProfile,
  onLocation,
  practice,
  telehealthOnly,
  specialities,
}: ClinicianCardProps) => {
  return (
    <div className="w-full bg-white p-6 space-y-4 flex flex-col border border-secondary/50 rounded-lg">
      {/* Header with avatar and bookmark */}
      <div className="flex items-start justify-between flex-1">
        <div className="flex items-center gap-3">
          <div>
            {image ? (
              <Image
                width={100}
                height={100}
                src={image || "/default-avatar.png"}
                alt={name}
                className="w-20 h-20 rounded-full"
              />
            ) : (
              <div className="w-20 h-20 rounded-full bg-secondary flex items-center justify-center">
                <div className="text-2xl font-bold text-white">
                  {name.charAt(0)}
                </div>
              </div>
            )}
          </div>

          {/* Title */}
          <div>
            <h1 className="text-xl font-semibold text-gray-900">{name}</h1>
            <h2 className="font-medium text-gray-900">{practice}</h2>
            <div className="text-sm text-gray-500 mt-2 flex flex-wrap items-center gap-2">
              <div className="pr-2 border-r flex items-center gap-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="21"
                  viewBox="0 0 20 21"
                  fill="none"
                  aria-label="Location"
                >
                  <g clipPath="url(#locationClip)">
                    <path
                      d="M18.8386 19.7371H17.2928V1.49487C17.2928 1.17128 17.0304 0.908936 16.7068 0.908936H3.29188C2.96828 0.908936 2.70594 1.17128 2.70594 1.49487V19.7371H1.16016C0.836562 19.7371 0.574219 19.9994 0.574219 20.323C0.574219 20.6466 0.836562 20.9089 1.16016 20.9089H18.8386C19.1622 20.9089 19.4246 20.6466 19.4246 20.323C19.4246 19.9994 19.1622 19.7371 18.8386 19.7371ZM8.00207 19.7371V15.7425H11.9966V19.7371H8.00207ZM13.1685 19.7371V15.1566C13.1685 14.833 12.9062 14.5706 12.5826 14.5706H7.41613C7.09254 14.5706 6.8302 14.833 6.8302 15.1566V19.7371H3.87781V2.08081H16.1209V19.7371H13.1685Z"
                      className="fill-secondary"
                    />
                    <path
                      d="M8.74055 3.49902H5.86914C5.54555 3.49902 5.2832 3.76137 5.2832 4.08496V6.95637C5.2832 7.27996 5.54555 7.5423 5.86914 7.5423H8.74055C9.06414 7.5423 9.32648 7.27996 9.32648 6.95637V4.08496C9.32648 3.76137 9.06414 3.49902 8.74055 3.49902ZM8.15461 6.37043H6.45508V4.6709H8.15461V6.37043Z"
                      className="fill-secondary"
                    />
                    <path
                      d="M14.1312 3.49902H11.2598C10.9362 3.49902 10.6738 3.76137 10.6738 4.08496V6.95637C10.6738 7.27996 10.9362 7.5423 11.2598 7.5423H14.1312C14.4548 7.5423 14.7171 7.27996 14.7171 6.95637V4.08496C14.7171 3.76137 14.4548 3.49902 14.1312 3.49902ZM13.5452 6.37043H11.8457V4.6709H13.5452V6.37043Z"
                      className="fill-secondary"
                    />
                    <path
                      d="M8.74055 8.9541H5.86914C5.54555 8.9541 5.2832 9.21645 5.2832 9.54004V12.4114C5.2832 12.735 5.54555 12.9974 5.86914 12.9974H8.74055C9.06414 12.9974 9.32648 12.735 9.32648 12.4114V9.54004C9.32648 9.21645 9.06414 8.9541 8.74055 8.9541ZM8.15461 11.8255H6.45508V10.126H8.15461V11.8255Z"
                      className="fill-secondary"
                    />
                    <path
                      d="M14.1312 8.9541H11.2598C10.9362 8.9541 10.6738 9.21645 10.6738 9.54004V12.4114C10.6738 12.735 10.9362 12.9974 11.2598 12.9974H14.1312C14.4548 12.9974 14.7171 12.735 14.7171 12.4114V9.54004C14.7171 9.21645 14.4548 8.9541 14.1312 8.9541ZM13.5452 11.8255H11.8457V10.126H13.5452V11.8255Z"
                      className="fill-secondary"
                    />
                  </g>
                  <defs>
                    <clipPath id="locationClip">
                      <rect
                        width="20"
                        height="20"
                        fill="white"
                        transform="translate(0 0.908936)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                <span>{location}</span>
              </div>
              <div className="pr-2 border-r flex items-center gap-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="21"
                  viewBox="0 0 20 21"
                  fill="none"
                  aria-label="Qualifications"
                >
                  <g clipPath="url(#qualificationsClip)">
                    <path
                      d="M4.07471 14.2036C6.04736 16.5617 8.422 18.4183 11.1323 19.732C12.1642 20.221 13.5443 20.8012 15.0818 20.9006C15.1771 20.9048 15.2682 20.9089 15.3636 20.9089C16.3955 20.9089 17.2243 20.5525 17.8998 19.819C17.904 19.8149 17.9123 19.8066 17.9164 19.7983C18.1568 19.5082 18.4303 19.2471 18.7162 18.9694C18.911 18.783 19.1099 18.5882 19.3006 18.3892C20.1833 17.4692 20.1833 16.3006 19.2923 15.4096L16.8016 12.9189C16.3789 12.4796 15.8733 12.2475 15.3428 12.2475C14.8124 12.2475 14.3026 12.4796 13.8675 12.9147L12.3839 14.3984C12.2471 14.3196 12.1062 14.2492 11.9736 14.1829C11.8078 14.1 11.6545 14.0212 11.5177 13.9342C10.1667 13.0764 8.94003 11.9574 7.76721 10.5194C7.17459 9.76928 6.77674 9.13935 6.49908 8.497C6.88864 8.14474 7.25333 7.77591 7.60559 7.41536C7.72991 7.28689 7.85839 7.15842 7.98686 7.02995C8.43443 6.58237 8.6748 6.06434 8.6748 5.53803C8.6748 5.01171 8.43858 4.49368 7.98686 4.04611L6.75188 2.81113C6.60683 2.66608 6.47007 2.52518 6.32917 2.38013C6.05565 2.09833 5.7697 1.80823 5.48789 1.54715C5.06104 1.12858 4.55959 0.908936 4.02913 0.908936C3.50281 0.908936 2.99722 1.12858 2.55379 1.55129L1.00385 3.10123C0.440234 3.66484 0.121129 4.34864 0.0548214 5.14018C-0.0239187 6.13065 0.158427 7.18328 0.630868 8.45556C1.35611 10.4241 2.45018 12.2517 4.07471 14.2036ZM1.06601 5.22721C1.11574 4.67603 1.3271 4.21602 1.72494 3.81818L3.26659 2.27653C3.50696 2.04445 3.77219 1.92427 4.02913 1.92427C4.28192 1.92427 4.53887 2.04445 4.77509 2.28482C5.05275 2.54176 5.31384 2.81113 5.59564 3.09708C5.73655 3.24213 5.88159 3.38718 6.02664 3.53637L7.26162 4.77135C7.51856 5.02829 7.65117 5.28937 7.65117 5.54632C7.65117 5.80326 7.51856 6.06434 7.26162 6.32129C7.13315 6.44976 7.00468 6.58237 6.8762 6.71084C6.49079 7.1004 6.13025 7.46923 5.7324 7.82149C5.72411 7.82978 5.71997 7.83393 5.71168 7.84221C5.36771 8.18618 5.42158 8.51358 5.50447 8.76223C5.50861 8.77466 5.51276 8.78295 5.5169 8.79538C5.83601 9.56207 6.27944 10.2914 6.97152 11.1617C8.21479 12.6951 9.52436 13.8845 10.9665 14.8004C11.1447 14.9164 11.3354 15.0076 11.5136 15.0987C11.6794 15.1816 11.8327 15.2604 11.9694 15.3474C11.986 15.3557 11.9985 15.364 12.015 15.3723C12.1518 15.4427 12.2844 15.4759 12.417 15.4759C12.7486 15.4759 12.9641 15.2645 13.0345 15.1941L14.5845 13.6441C14.8248 13.4038 15.0859 13.2753 15.3428 13.2753C15.6578 13.2753 15.9147 13.4701 16.0764 13.6441L18.5753 16.1389C19.0726 16.6362 19.0685 17.175 18.5629 17.7013C18.3888 17.8878 18.2065 18.066 18.0117 18.2525C17.7216 18.5343 17.4191 18.8244 17.1456 19.1518C16.669 19.6657 16.1012 19.906 15.3677 19.906C15.2973 19.906 15.2227 19.9019 15.1522 19.8977C13.7929 19.8107 12.5289 19.2803 11.5799 18.8285C9.00219 17.5811 6.73945 15.8115 4.86211 13.5654C3.31632 11.7046 2.27612 9.97234 1.58818 8.11573C1.16133 6.97607 0.999703 6.0602 1.06601 5.22721Z"
                      className="fill-secondary"
                    />
                  </g>
                  <defs>
                    <clipPath id="qualificationsClip">
                      <rect
                        width="20"
                        height="20"
                        fill="white"
                        transform="translate(0 0.908936)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                <span>{qualifications}</span>
              </div>
              {telehealthOnly && (
                <div className="pr-2 border-r flex items-center gap-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="21"
                    viewBox="0 0 20 21"
                    fill="none"
                    aria-label="Telehealth"
                  >
                    <g clipPath="url(#telehealthClip)">
                      <path
                        d="M19.7924 5.7195C19.6637 5.64319 19.5044 5.64022 19.373 5.71189L14.7842 8.21751V6.7141C14.7828 5.54455 13.8351 4.59678 12.6655 4.59546H2.11864C0.949086 4.59678 0.00132415 5.54455 0 6.7141V15.0794C0.00132415 16.249 0.949086 17.1968 2.11864 17.1981H12.6655C13.8351 17.1968 14.7828 16.249 14.7842 15.0794V13.6033L19.3732 16.109C19.5044 16.1806 19.6638 16.1778 19.7924 16.1015C19.9212 16.025 20 15.8865 20 15.737V6.08381C20 5.93418 19.921 5.7958 19.7924 5.7195ZM13.9364 15.0796C13.9357 15.7814 13.367 16.35 12.6652 16.3508H2.11864C1.41684 16.35 0.848285 15.7814 0.847458 15.0796V6.7141C0.848285 6.01247 1.41684 5.44374 2.11864 5.44292H12.6655C13.3672 5.44374 13.9359 6.01247 13.9367 6.7141L13.9364 15.0796ZM19.1525 15.023L14.7842 12.6379V9.18299L19.1525 6.79802V15.023Z"
                        className="fill-secondary"
                      />
                    </g>
                    <defs>
                      <clipPath id="telehealthClip">
                        <rect
                          width="20"
                          height="20"
                          fill="white"
                          transform="translate(0 0.908936)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                  <span>Telehealth Only</span>
                </div>
              )}
            </div>
          </div>
        </div>
        <button
          onClick={onLocation}
          className="text-gray-400 hover:text-gray-500"
          aria-label="View location"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <g clipPath="url(#locationButtonClip)">
              <path
                d="M14.0001 7.00001C14.0001 7.39557 13.8828 7.78225 13.663 8.11115C13.4432 8.44004 13.1309 8.69639 12.7654 8.84776C12.4 8.99914 11.9978 9.03875 11.6099 8.96158C11.2219 8.88441 10.8656 8.69392 10.5858 8.41422C10.3061 8.13451 10.1157 7.77815 10.0385 7.39019C9.96132 7.00222 10.0009 6.60009 10.1523 6.23464C10.3037 5.86919 10.56 5.55683 10.8889 5.33707C11.2178 5.1173 11.6045 5.00001 12.0001 5.00001C12.5305 5.00001 13.0392 5.21072 13.4143 5.58579C13.7893 5.96086 14.0001 6.46957 14.0001 7.00001ZM16.9581 12.184L13.9001 15.215C13.6519 15.4652 13.3567 15.6637 13.0315 15.7992C12.7063 15.9347 12.3574 16.0045 12.0051 16.0045C11.6527 16.0045 11.3039 15.9347 10.9786 15.7992C10.6534 15.6637 10.3582 15.4652 10.1101 15.215L7.05406 12.2C5.74182 10.8472 5.00693 9.03715 5.00469 7.15243C5.00245 5.26772 5.73304 3.45596 7.04206 2.1C7.68543 1.43529 8.45588 0.906738 9.30762 0.545767C10.1594 0.184795 11.075 -0.0012207 12.0001 -0.0012207C12.9251 -0.0012207 13.8408 0.184795 14.6925 0.545767C15.5442 0.906738 16.3147 1.43529 16.9581 2.1C18.2651 3.45304 18.9956 5.26077 18.9956 7.14201C18.9956 9.02325 18.2651 10.831 16.9581 12.184ZM16.0001 7.00001C16.0001 6.20888 15.7655 5.43552 15.3259 4.77772C14.8864 4.11993 14.2617 3.60724 13.5308 3.30449C12.7999 3.00174 11.9956 2.92252 11.2197 3.07686C10.4438 3.2312 9.73104 3.61217 9.17163 4.17158C8.61222 4.73099 8.23126 5.44372 8.07692 6.21964C7.92258 6.99557 8.00179 7.79984 8.30454 8.53074C8.60729 9.26164 9.11998 9.88636 9.77778 10.3259C10.4356 10.7654 11.2089 11 12.0001 11C13.0609 11 14.0783 10.5786 14.8285 9.82843C15.5786 9.07829 16.0001 8.06087 16.0001 7.00001ZM20.7531 9.20001C20.3881 10.8527 19.5694 12.371 18.3891 13.584L15.3111 16.637C14.878 17.0711 14.3637 17.4156 13.7975 17.6509C13.2312 17.8861 12.6242 18.0075 12.0111 18.008C11.3982 18.0082 10.7914 17.8877 10.2252 17.6533C9.65893 17.4189 9.14444 17.0753 8.71106 16.642L5.64806 13.619C4.4832 12.4232 3.66567 10.933 3.28306 9.30801C2.63355 9.54608 2.03968 9.91465 1.53806 10.391C1.04911 10.8559 0.660436 11.4158 0.39594 12.0365C0.131445 12.6572 -0.00327713 13.3254 6.05319e-05 14V18.075C0.00216213 19.1563 0.353853 20.208 1.00265 21.0731C1.65145 21.9381 2.56257 22.5702 3.60006 22.875L6.47006 23.775C6.95212 23.925 7.45419 24.0009 7.95906 24C8.41705 23.9994 8.87285 23.9369 9.31406 23.814L15.0941 22.104C15.6089 21.9629 16.1522 21.9629 16.6671 22.104L19.0541 22.904C19.6424 23.0472 20.2555 23.055 20.8472 22.9267C21.439 22.7985 21.9939 22.5376 22.4701 22.1637C22.9464 21.7898 23.3315 21.3127 23.5965 20.7683C23.8616 20.2239 23.9995 19.6265 24.0001 19.021V13.872C23.9966 12.8558 23.6842 11.8647 23.1043 11.0302C22.5243 10.1958 21.7043 9.55746 20.7531 9.20001Z"
                className="fill-secondary"
              />
            </g>
            <defs>
              <clipPath id="locationButtonClip">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(0 -0.000244141)"
                />
              </clipPath>
            </defs>
          </svg>
        </button>
      </div>

      <div className="flex-1">
        {/* Description */}
        <div className="border-b py-4">
          <p className="text-gray-600 line-clamp-2">{descriptions}</p>
        </div>
      </div>

      {/* Specialities */}
      {specialities.length > 0 && (
        <div className="py-2">
          <div className="flex flex-wrap gap-2">
            {specialities.map((speciality, index) => (
              <span
                key={`${speciality}-${index}`}
                className="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm"
              >
                {speciality}
              </span>
            ))}
          </div>
        </div>
      )}

      <div className="grid grid-cols-2 gap-6">
        <button
          onClick={onMessage}
          className="w-full sm:w-auto px-6 py-3 border text-secondary border-secondary font-medium rounded-full transition-colors"
        >
          Book Consultation
        </button>
        <button
          onClick={onVisitProfile}
          className="w-full sm:w-auto px-6 py-3 bg-secondary/80 hover:bg-secondary text-white font-medium rounded-full transition-colors"
        >
          View Profile
        </button>
      </div>
    </div>
  );
};
